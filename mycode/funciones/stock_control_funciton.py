piezas_total_eco = { "polea_grande": 1,  "polea_chica": 1, "tornillo_teletubi_eco": 2, "capacitores": 1, "conector_hembra": 1, "cable_corto_eco": 1, "motor_eco": 1, "caja_soldada_eco": 1,  "tapa_correa_eco": 1, "correa_eco": 1, "capuchon_motor_dodo": 1, "teclas": 1, "buje_eje_eco": 1, "rectangulo_plastico_eco": 1, "BaseECO": 1, "aro_numerador": 1, "espiral": 1, "perilla_numerador": 1, "tapita_perilla": 2, "patas": 4, "movimiento": 1, "eje_rectificado": 1, "resorte_movimiento": 1, "tornillo_guia": 1, "guia_u": 1, "cable_eco_220w": 1, "varilla_330": 1, "carros": 1, "resorte_carro": 2, "caja_eco_armada": 1, "rueditas": 4 ,"brazo_330": 1, "cubrecuchilla_330": 1, "velero": 1, "perilla_brazo": 1, "cabezal_inox": 1, "teletubi_doblado_eco": 1, "cuchilla_330": 1, "vela_final_330": 1, "cuadrado_regulador": 1, "planchada_final_330": 1, "varilla_brazo_330": 1, "resorte_brazo": 1, "tapa_afilador_eco": 1, "pitito_teletubi_eco": 1, "pipas": 2, "tubo_manija": 1, "afilador_final": 1, "perilla_cubrecuchilla": 2, "perilla_afilador": 1, "base_afilador_250": 1, "Base_Pre_armado_ECO": 1, "piedra_afilador": 1, "pinche_lateral": 1, "pinche_frontal": 1}  

pieza_total_inox_250 = { "brazo_250": 1, "cubrecuchilla_250": 1, "velero": 1, "perilla_brazo": 1, "cabezal_250": 1, "teletubi_250": 1, "cuchilla_250": 1, "cuadrado_regulador": 1, "vela_final_250": 1, "cubre_motor_rectangulo": 1, "planchada_final_250": 1, "varilla_brazo_250": 1, "resorte_brazo": 1, "tapa_afilador_250": 1, "pipas": 2, "tubo_manija_250": 1, "afilador_final": 1, "perilla_cubrecuchilla": 2, "perilla_afilador": 1, "base_afilador_250": 1, "Base_Pre_armado_i250": 1, "piedra_afilador": 1, "capuchon_250": 1, "pinche_frontal_250": 1, "pinche_lateral_250": 1, "BaseInox_250": 1, "aro_numerador": 1, "espiral": 1, "perilla_numerador": 1, "tapita_perilla": 2, "patas": 4, "movimiento": 1, "eje_rectificado": 1, "resorte_movimiento": 1, "tornillo_guia": 1, "guia_u": 1, "teclas": 1, "cable_220w": 1, "varilla_250": 1, "carros_250": 1, "rueditas": 4, "caja_250_armada": 1, "capacitores_250": 1, "cajas_torneadas_250": 1, "eje_250": 1, "manchon_250": 1, "ruleman_6004": 1, "ruleman_6204": 2, "corona_250": 1, "seguer": 1, "sinfin": 1, "motor250_220v": 1, "oring":1, "rulemanR6": 1} 

pieza_total_inox_330 = { "brazo_330": 1, "cubrecuchilla_330": 1, "velero": 1, "perilla_brazo": 1, "cabezal_inox": 1, "teletubi_330": 1, "cuchilla_330": 1, "cuadrado_regulador": 1, "vela_final_330": 1, "cubre_motor_rectangulo": 1, "cubre_motor_cuadrado": 1, "planchada_final_330": 1, "varilla_brazo_330": 1, "resorte_brazo": 1, "tapa_afilador": 1, "pipas": 2, "tubo_manija": 1, "afilador_final": 1, "perilla_cubrecuchilla": 2, "perilla_afilador": 1, "base_afilador_330": 1, "Base_Pre_armado_i330": 1, "piedra_afilador": 1, "pinche_frontal": 1, "pinche_lateral": 1, "BaseInox_330": 1, "aro_numerador": 1, "espiral": 1, "perilla_numerador": 1, "tapita_perilla": 2, "patas": 4, "movimiento": 1, "eje_rectificado": 1, "resorte_movimiento": 1, "tornillo_guia": 1, "guia_u": 1, "teclas": 1, "cable_220w": 1, "varilla_330": 1, "carros": 1, "rueditas": 4, "resorte_carro": 2, "caja_330_armada": 1, "capacitores": 1, "cajas_torneadas_330": 1, "eje": 1, "manchon": 1, "ruleman_6005": 1, "ruleman_6205": 2, "corona_330": 1, "seguer": 1, "sinfin": 1, "motor_220v": 1, "oring": 1, "ruleman6000": 1}

pieza_total_inox_300 = { "brazo_300": 1, "cubre_300_torneado": 1, "velero": 1, "perilla_brazo": 1, "cabezal_inox": 1, "teletubi_300_torneado": 1, "cuchilla_300": 1, "cuadrado_regulador": 1, "vela_final_300": 1, "cubre_motor_rectangulo": 1, "cubre_motor_cuadrado": 1, "planchada_final_300": 1, "varilla_brazo_300": 1, "resorte_brazo": 1, "tapa_afilador": 1, "pipas": 2, "tubo_manija": 1, "afilador_final": 1, "perilla_cubrecuchilla": 2, "perilla_afilador": 1, "base_afilador_300": 1, "Base_Pre_armado_i300": 1, "piedra_afilador": 1, "pinche_frontal": 1, "pinche_lateral": 1, "BaseInox_300": 1, "aro_numerador": 1, "espiral": 1, "perilla_numerador": 1, "tapita_perilla": 2, "patas": 4, "movimiento": 1, "eje_rectificado": 1, "resorte_movimiento": 1, "tornillo_guia": 1, "guia_u": 1, "teclas": 1, "cable_220w": 1, "varilla_300": 1, "carros": 1, "rueditas": 4, "resorte_carro": 2, "caja_300_armada": 1, "capacitores": 1, "cajas_torneadas_300": 1, "eje": 1, "manchon": 1, "ruleman_6005": 1, "ruleman_6205": 2, "corona_300": 1, "seguer": 1, "sinfin": 1, "motor_220v": 1, "oring":1, "ruleman6000": 1
}

piezas_total_pintada_300 = { "cajas_torneadas_300": 1, "eje": 1, "manchon": 1, "ruleman_6005": 1, "ruleman_6205": 2, "corona_300": 1, "seguer": 1, "sinfin": 1, "motor_220v": 1, "oring":1, "ruleman6000": 1,  "BasePintada_300": 1, "aro_numerador": 1, "espiral": 1, "perilla_numerador": 1, "tapita_perilla": 2, "patas": 4, "movimiento": 1, "eje_rectificado": 1, "resorte_movimiento": 1, "tornillo_guia": 1, "guia_u": 1, "teclas": 1, "cable_220w": 1, "varilla_330": 1, "carros": 1, "rueditas": 4, "resorte_carro": 2, "caja_300_armada": 1, "capacitores": 1, "bandeja_300": 1,  "brazo_300": 1, "cubre_300_torneado": 1, "velero": 1, "perilla_brazo": 1, "cabezal_pintada": 1, "teletubi_300_torneado": 1, "cuchilla_300": 1, "cuadrado_regulador": 1, "vela_final_300": 1, "cubre_motor_rectangulo": 1, "cubre_motor_cuadrado": 1, "planchada_final_300": 1, "varilla_brazo_300": 1, "resorte_brazo": 1, "tapa_afilador": 1, "pipas": 2, "tubo_manija": 1, "afilador_final": 1, "perilla_cubrecuchilla": 2, "perilla_afilador": 1, "base_afilador_300": 1, "Base_Pre_armado_p300": 1, "piedra_afilador": 1, "pinche_frontal": 1, "pinche_lateral": 1
}

piezas_total_pintada_330 = { "cajas_torneadas_330": 1, "eje": 1, "manchon": 1, "ruleman_6005": 1, "ruleman_6205": 2, "corona_330": 1, "seguer": 1, "sinfin": 1, "motor_220v": 1, "oring":1, "ruleman6000": 1 ,"BasePintada_330": 1, "aro_numerador": 1, "espiral": 1, "perilla_numerador": 1, "tapita_perilla": 2, "patas": 4, "movimiento": 1, "eje_rectificado": 1, "resorte_movimiento": 1, "tornillo_guia": 1, "guia_u": 1, "teclas": 1, "cable_220w": 1, "varilla_330": 1, "carros": 1, "rueditas": 4, "resorte_carro": 2, "caja_330_armada": 1, "capacitores": 1, "bandeja_330": 1 ,"brazo_330": 1, "cubrecuchilla_330": 1, "velero": 1, "perilla_brazo": 1, "cabezal_pintada": 1, "teletubi_330": 1, "cuchilla_330": 1, "cuadrado_regulador": 1, "vela_final_330": 1, "cubre_motor_rectangulo": 1, "cubre_motor_cuadrado": 1, "planchada_final_330": 1, "varilla_brazo_330": 1, "resorte_brazo": 1, "tapa_afilador": 1, "pipas": 2, "tubo_manija": 1, "afilador_final": 1, "perilla_cubrecuchilla": 2, "perilla_afilador": 1, "base_afilador_330": 1, "Base_Pre_armado_p330": 1, "piedra_afilador": 1, "pinche_frontal": 1, "pinche_lateral": 1
}

def obtener_stock_piezas():
    try:
        conn = sqlite3.connect("dbfadeco.db")
        cursor = conn.cursor()
        cursor.execute("SELECT PIEZAS, CANTIDAD FROM piezas_terminadas")
        datos_piezas = dict(cursor.fetchall())
        return datos_piezas
    except sqlite3.Error as e:
        print(f"Error al obtener datos de la base de datos: {e}")
        return {}
    finally:
        conn.close()



def verificar_stock_maquinas(piezas_total_pintada, cantidad_maquinas):
    stock = obtener_stock_piezas()
    
    for pieza, cantidad_necesaria in piezas_total_pintada.items():
        cantidad_disponible = stock.get(pieza, 0)
        if cantidad_disponible < cantidad_necesaria * cantidad_maquinas:
            print(f"No hay suficiente stock para: {pieza}. Necesitas {cantidad_necesaria * cantidad_maquinas}, pero solo hay {cantidad_disponible}.")
            return False
            
    print(f"Tienes suficiente stock para armar {cantidad_maquinas} mÃ¡quinas.")
    return True

# Ejemplo de uso
cantidad_maquinas = 10
verificar_stock_maquinas(piezas_total_pintada_330, cantidad_maquinas)

